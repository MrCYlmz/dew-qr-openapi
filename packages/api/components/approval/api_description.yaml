
getPendingUsers:
  get:
    tags:
      - Admin
    operationId: getPendingUsers
    summary: Get pending users
    description: Fetch all users awaiting approval, optionally filtered by table.
    security:
      - bearerAuth: []
    parameters:
      - name: tableId
        in: query
        required: false
        schema:
          type: string
          format: uuid
        description: Filter by table ID.
    responses:
      "200":
        description: List of pending users returned successfully.
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "./model.yaml#/pendingUser"
      "401":
        description: Unauthorized.
      "500":
        description: Internal server error.

approveUser:
  post:
    tags:
      - Admin
    operationId: approveUser
    summary: Approve a user
    description: Approve a pending user. The user will be assigned to the table's open group.
    security:
      - bearerAuth: []
    parameters:
      - name: userId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: The user ID.
    responses:
      "200":
        description: User approved successfully.
        content:
          application/json:
            schema:
              $ref: "./model.yaml#/approveUserResponse"
      "400":
        description: User is not in PENDING status.
      "401":
        description: Unauthorized.
      "404":
        description: User not found.
      "500":
        description: Internal server error.

rejectUser:
  post:
    tags:
      - Admin
    operationId: rejectUser
    summary: Reject a user
    description: Reject a pending user with an optional reason.
    security:
      - bearerAuth: []
    parameters:
      - name: userId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: The user ID.
    requestBody:
      required: false
      content:
        application/json:
          schema:
            $ref: "./model.yaml#/rejectUserRequest"
    responses:
      "200":
        description: User rejected successfully.
        content:
          application/json:
            schema:
              $ref: "./model.yaml#/userStatusResponse"
      "400":
        description: User is not in PENDING status.
      "401":
        description: Unauthorized.
      "404":
        description: User not found.
      "500":
        description: Internal server error.

getUserStatus:
  get:
    tags:
      - Auth
    operationId: getUserStatus
    summary: Get user status
    description: Get the current approval status of a user. Used for polling by pending users.
    parameters:
      - name: userId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: The user ID.
    responses:
      "200":
        description: User status returned successfully.
        content:
          application/json:
            schema:
              $ref: "./model.yaml#/userStatusResponse"
      "404":
        description: User not found.
      "500":
        description: Internal server error.
