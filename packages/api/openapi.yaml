openapi: '3.0.3'
info:
  title: DewQr API
  description: API documentation for DewQr, a food and drink ordering app.
  version: '1.0'
tags:
  - name: User
    description: User operations for using the app.
  - name: Admin
    description: Admin operations for managing items.
  - name: Auth
    description: Authentication and token management.
servers:
  - url: https://api.server.test/v1
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
paths:
  /v1/user/items/:
    $ref: './components/items/api_description.yaml#/userItemFunctions'
  /v1/admin/items/:
    $ref: './components/items/api_description.yaml#/adminItemFunctions'
  /v1/user/items/{id}/image/:
    $ref: './components/items/api_description.yaml#/userImageFunctions'
  /v1/admin/items/{id}/image/:
    $ref: './components/items/api_description.yaml#/adminImageFunctions'
  /v1/auth/user/:
    $ref: './components/auth/api_description.yaml#/userLogin'
  /v1/auth/admin/:
    $ref: './components/auth/api_description.yaml#/adminLogin'
  /v1/user/order/:
    $ref: './components/order/api_description.yaml#/userPlaceOrder'
  /v1/user/order/{userId}/:
    $ref: './components/order/api_description.yaml#/userFetchOrders'
  /v1/admin/order/:
    $ref: './components/order/api_description.yaml#/fetchAllOrders'
  /v1/admin/order/{orderId}/:
    $ref: './components/order/api_description.yaml#/deleteOrder'
  /v1/user/order/{orderId}/{status}/:
    $ref: './components/order/api_description.yaml#/updateOrder'
  # Table management
  /v1/admin/tables/:
    $ref: './components/table/api_description.yaml#/fetchTables'
  /v1/admin/tables/create/:
    $ref: './components/table/api_description.yaml#/createTable'
  /v1/admin/tables/{id}/:
    $ref: './components/table/api_description.yaml#/updateTable'
  /v1/admin/tables/{id}/delete/:
    $ref: './components/table/api_description.yaml#/deleteTable'
  # Group management
  /v1/admin/groups/:
    $ref: './components/group/api_description.yaml#/fetchGroups'
  /v1/admin/groups/{id}/:
    $ref: './components/group/api_description.yaml#/getGroupDetail'
  /v1/admin/groups/{id}/close/:
    $ref: './components/group/api_description.yaml#/closeGroup'
  # User approval
  /v1/admin/users/pending/:
    $ref: './components/approval/api_description.yaml#/getPendingUsers'
  /v1/admin/users/{userId}/approve/:
    $ref: './components/approval/api_description.yaml#/approveUser'
  /v1/admin/users/{userId}/reject/:
    $ref: './components/approval/api_description.yaml#/rejectUser'
  /v1/auth/user/{userId}/status/:
    $ref: './components/approval/api_description.yaml#/getUserStatus'
